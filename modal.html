<!DOCTYPE html>
<html>

<head>
    <script src="modal.js"></script> <!-- Incluir el archivo JS externo -->
    <script>

        const urlParams = new URLSearchParams(window.location.search);
        const paymentToken = window.__FLOID_PAYMENT_TOKEN__ || urlParams.get('id') || '0821b669-40c7-4ee1-9e6e-aa33c2afc3d8';
        const myModal = FloidModal(paymentToken);
        modalInstance.createModal();
        setTimeout(() => {
            myModal.open();
        }, 100)

        window.addEventListener('message', (event) => {
            if (event.data && event.data.status === 'PAYMENT_CLOSED') {
                myModal.close();
                console.log('modal cerrado');
            }
        });

    </script>
</head>

</html>